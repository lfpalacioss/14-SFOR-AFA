shiny::runApp('PROPUESTA_AFA')
shiny::runApp('PROPUESTA_AFA')
shiny::runApp('PROPUESTA_AFA')
shiny::runApp('PROPUESTA_AFA')
TABLA_EFA_MAPA = BD_EFA %>%
subset(select = c(dptoEntidadMatricula,
periodo,
ambitoEntidadMatricula,
NombreFinalGrupo))
TABLA_EFA_MAPA = BD_EFA %>%
subset(select = c(dptoEntidadMatricula,
periodo,
ambitoEntidadMatricula,
NombreFinalGrupo))
View(TABLA_EFA_MAPA)
TABLA_EFA = BD_EFA %>%
subset(select = c(entidadConRegion,
Entrada,
Salida,
periodo,
ambitoEntidadMatricula,
NombreFinalGrupo))
View(TABLA_EFA)
runApp('PROPUESTA_AFA')
runApp('PROPUESTA_AFA')
runApp('PROPUESTA_AFA')
shiny::runApp('PROPUESTA_AFA')
runApp('PROPUESTA_AFA')
TABLA_EFA_MAPA = BD_EFA %>%
subset(select = c(dptoEntidadMatricula,
periodo,
ambitoEntidadMatricula,
NombreFinalGrupo)) %>%
# subset(periodo %in% input$PERIODO_2 &
#        ambitoEntidadMatricula %in% input$AMBITO_2 &
#        NombreFinalGrupo %in% input$NOMBRE_2
#        ) %>%
group_by(dptoEntidadMatricula) %>%
summarise(Cantidad = n())
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf(aes(fill = Cantidad),
color = "white", size = 0.25) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA
runApp('PROPUESTA_AFA')
View(BD_MAPA)
TABLA_EFA_MAPA = BD_EFA %>%
subset(select = c(dptoEntidadMatricula,
periodo,
ambitoEntidadMatricula,
NombreFinalGrupo)) %>%
subset(periodo %in% input$PERIODO_2 &
ambitoEntidadMatricula %in% input$AMBITO_2 &
NombreFinalGrupo %in% input$NOMBRE_2
) %>%
group_by(dptoEntidadMatricula) %>%
summarise(Cantidad = n()) %>%
mutate(PAIS="PERU")
TABLA_EFA_MAPA = BD_EFA %>%
subset(select = c(dptoEntidadMatricula,
periodo,
ambitoEntidadMatricula,
NombreFinalGrupo)) %>%
# subset(periodo %in% input$PERIODO_2 &
#        ambitoEntidadMatricula %in% input$AMBITO_2 &
#        NombreFinalGrupo %in% input$NOMBRE_2
#        ) %>%
group_by(dptoEntidadMatricula) %>%
summarise(Cantidad = n()) %>%
mutate(PAIS="PERU")
View(TABLA_EFA_MAPA)
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T)
View(GRAF_MAPA)
GRAF_MAPA = ggplot() +
geom_sf(data = BD_MAPA,aes(fill = Cantidad),
color = "white", size = 0.25) +
geom_sf(data= BD_MAPA,
color = "black", size = 0.25,
group=PAIS) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
BD_MAPA_2 = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T)
GRAF_MAPA = ggplot() +
geom_sf(data = BD_MAPA_2,aes(fill = Cantidad),
color = "white", size = 0.25) +
geom_sf(data= BD_MAPA_2,
color = "black", size = 0.25,
group=PAIS) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf( aes(fill = Cantidad),
color = "white", size = 0.25) +
geom_sf( aes(fill = "transparent"),
color = "black", size = 0.25,
data = . %>% group_by(PAIS) %>% summarise()) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf( aes(fill = Cantidad),
color = "white", size = 0.25) +
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")+
geom_sf( aes(fill = "transparent"),
color = "black", size = 0.25,
data = . %>% group_by(PAIS) %>% summarise()) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")
GRAF_MAPA
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf( aes(fill = Cantidad),
color = "white", size = 0.25) +
geom_sf(
color = "black", size = 0.25,
data = . %>% group_by(PAIS) %>% summarise()) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf(
color = "black", size = 0.25,
data = . %>% group_by(PAIS) %>% summarise()) +
geom_sf( aes(fill = Cantidad),
color = "white", size = 0.25) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf(
color = "black", size = 1,
data = . %>% group_by(PAIS) %>% summarise()) +
geom_sf( aes(fill = Cantidad),
color = "white", size = 0.25) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA
GRAF_MAPA = merge(BD_MAPA, TABLA_EFA_MAPA,
by.x = c("NOMBDEP"),
by.y = c("dptoEntidadMatricula"),
all.x = T) %>%
ggplot() +
geom_sf(
color = "black", size = 1.25,
data = . %>% group_by(PAIS) %>% summarise()) +
geom_sf( aes(fill = Cantidad),
color = "white", size = 0.25) +
theme_void()+
coord_sf(crs = "+proj=robin")+
ggeasy::easy_move_legend(to="right")+
ggeasy::easy_add_legend_title("Matriculados")+
scale_fill_continuous(high = PALETA.PRINCIPAL[1], low = PALETA.PRINCIPAL[3], na.value = "white")
GRAF_MAPA
runApp('PROPUESTA_AFA')
runApp('PROPUESTA_AFA')
runApp('PROPUESTA_AFA')
runApp('C:/Users/lfpal/Google Drive/4) R/1) Scripts/1) OEFA/14) SFOR-AFA/PROPUESTA_AFA')
runApp('PROPUESTA_AFA')
